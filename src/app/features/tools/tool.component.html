<div class="container mt-4">

  <h1>CATÁLOGO DE HERRAMIENTAS</h1>

  <!-- Encabezado con búsqueda y botón nuevo -->
  <div class="d-flex justify-content-between align-items-center mb-3">
    
    <input type="text" class="form-control w-50" [(ngModel)]="search" (input)="onSearch(search)"
      placeholder="Buscar herramientas...">

    <button class="btn btn-primary" (click)="nuevoRegistro()">
      <i class="fa fa-plus"></i> Nuevo registro
    </button>
  </div>

  <!-- Tabla de herramientas -->
  <div class="table-responsive">
    <table class="table table-striped table-hover align-middle">
      <thead class="table-light">
        <tr>
          <th (click)="onSortChange('code')">Código</th>
          <th (click)="onSortChange('shape')">Forma</th>
          <th (click)="onSortChange('station_size')">Tamaño estación</th>
          <th (click)="onSortChange('measurement')">Medición</th>
          <th (click)="onSortChange('angle')">Ángulo</th>
          <th (click)="onSortChange('clarity')">Claridad</th>
          <th (click)="onSortChange('lifecycle_statuses')">Vida</th>
          <th>Opciones</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let tool of catalogoTools">
          <td>{{ tool.code }}</td>
          <td>{{ tool.shape }}</td>
          <td>{{ tool.station_size }}</td>
          <td>{{ tool.measurement }}</td>
          <td>{{ tool.angle }}</td>
          <td>{{ tool.clarity }}</td>
          <td>{{ tool.lifecycle_statuses }} %</td>
          <td>
            <div class="btn-group btn-group-sm" role="group">
              <button class="btn btn-warning" (click)="editarTool(tool.id)">
                <i class="fa fa-edit"></i>
              </button>
              <button class="btn btn-danger" (click)="eliminarTool(tool.id)">
                <i class="fa fa-trash"></i>
              </button>
              <button class="btn btn-info">
                <i class="fa fa-download"></i>
              </button>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Paginación -->
  <div class="d-flex justify-content-between align-items-center mt-3">
    <div>Total de herramientas: {{ total }}</div>

    <ngb-pagination [collectionSize]="total" [(page)]="currentPage" [pageSize]="pageSize"
      (pageChange)="onPageChange($event)">
    </ngb-pagination>

    <select class="form-select w-auto" [(ngModel)]="pageSize" (ngModelChange)="onPageSizeChange($event)">
      <option [ngValue]="5">5 por página</option>
      <option [ngValue]="10">10 por página</option>
      <option [ngValue]="20">20 por página</option>
    </select>
  </div>

</div>
